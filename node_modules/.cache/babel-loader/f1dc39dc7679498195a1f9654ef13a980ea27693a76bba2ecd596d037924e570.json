{"ast":null,"code":"import { put, takeEvery } from \"redux-saga/effects\";\nimport { SEARCH_WEATHER_DATA, SET_WEATHER_DATA } from \"./actions_type\";\nfunction* searchProducts(data) {\n  try {\n    let result = yield fetch(`https://api.openweathermap.org/data/2.5/weather?q=${data.query}&appid=b5aad4fab443b8fc561cd84cbc232cc9`);\n    result = yield result.json();\n    const formattedResult = yield {\n      id: result.id,\n      name: result.name,\n      weather: result.weather[0].main,\n      temp: result.main.temp,\n      country: result.sys.country,\n      humidity: result.main.humidity,\n      wind: result.wind.speed\n    };\n    console.warn(\"action search weather called\", formattedResult);\n    yield put({\n      type: SET_WEATHER_DATA,\n      data: formattedResult\n    });\n  } catch (error) {\n    console.log(\"error city \");\n    const noData = {\n      id: \"No data\",\n      name: \"No data\",\n      weather: \"No data\",\n      temp: \"No data\",\n      country: \"No data\",\n      humidity: \"No data\",\n      wind: \"No data\"\n    };\n    yield put({\n      type: SET_WEATHER_DATA,\n      data: noData\n    });\n  }\n}\nfunction* weatherSaga() {\n  yield takeEvery(SEARCH_WEATHER_DATA, searchProducts);\n}\nexport default weatherSaga;","map":{"version":3,"names":["put","takeEvery","SEARCH_WEATHER_DATA","SET_WEATHER_DATA","searchProducts","data","result","fetch","query","json","formattedResult","id","name","weather","main","temp","country","sys","humidity","wind","speed","console","warn","type","error","log","noData","weatherSaga"],"sources":["C:/Users/Greenwich/JsApp/CreateReactApp/weatherapp/src/redux/weatherSaga.ts"],"sourcesContent":["import { put, takeEvery } from \"redux-saga/effects\";\r\nimport { WeatherData } from \"./actions_type\";\r\nimport {\r\n\tGET_WEATHER_DATA,\r\n\tSEARCH_WEATHER_DATA,\r\n\tSET_WEATHER_DATA,\r\n} from \"./actions_type\";\r\n\r\nfunction* searchProducts(data: any): any {\r\n\ttry {\r\n\t\tlet result = yield fetch(\r\n\t\t\t`https://api.openweathermap.org/data/2.5/weather?q=${data.query}&appid=b5aad4fab443b8fc561cd84cbc232cc9`\r\n\t\t);\r\n\t\tresult = yield result.json();\r\n\t\tconst formattedResult = yield {\r\n\t\t\tid: result.id,\r\n\t\t\tname: result.name,\r\n\t\t\tweather: result.weather[0].main,\r\n\t\t\ttemp: result.main.temp,\r\n\t\t\tcountry: result.sys.country,\r\n\t\t\thumidity: result.main.humidity,\r\n\t\t\twind: result.wind.speed,\r\n\t\t};\r\n\t\tconsole.warn(\"action search weather called\", formattedResult);\r\n\t\tyield put({ type: SET_WEATHER_DATA, data: formattedResult });\r\n\t} catch (error) {\r\n\t\tconsole.log(\"error city \");\r\n\t\tconst noData = {\r\n\t\t\tid: \"No data\",\r\n\t\t\tname: \"No data\",\r\n\t\t\tweather: \"No data\",\r\n\t\t\ttemp: \"No data\",\r\n\t\t\tcountry: \"No data\",\r\n\t\t\thumidity: \"No data\",\r\n\t\t\twind: \"No data\",\r\n\t\t};\r\n\t\tyield put({ type: SET_WEATHER_DATA, data: noData });\r\n\t}\r\n}\r\n\r\nfunction* weatherSaga() {\r\n\tyield takeEvery(SEARCH_WEATHER_DATA, searchProducts);\r\n}\r\nexport default weatherSaga;\r\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AAEnD,SAECC,mBAAmB,EACnBC,gBAAgB,QACV,gBAAgB;AAEvB,UAAUC,cAAcA,CAACC,IAAS,EAAO;EACxC,IAAI;IACH,IAAIC,MAAM,GAAG,MAAMC,KAAK,CACtB,qDAAoDF,IAAI,CAACG,KAAM,yCAAwC,CACxG;IACDF,MAAM,GAAG,MAAMA,MAAM,CAACG,IAAI,EAAE;IAC5B,MAAMC,eAAe,GAAG,MAAM;MAC7BC,EAAE,EAAEL,MAAM,CAACK,EAAE;MACbC,IAAI,EAAEN,MAAM,CAACM,IAAI;MACjBC,OAAO,EAAEP,MAAM,CAACO,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI;MAC/BC,IAAI,EAAET,MAAM,CAACQ,IAAI,CAACC,IAAI;MACtBC,OAAO,EAAEV,MAAM,CAACW,GAAG,CAACD,OAAO;MAC3BE,QAAQ,EAAEZ,MAAM,CAACQ,IAAI,CAACI,QAAQ;MAC9BC,IAAI,EAAEb,MAAM,CAACa,IAAI,CAACC;IACnB,CAAC;IACDC,OAAO,CAACC,IAAI,CAAC,8BAA8B,EAAEZ,eAAe,CAAC;IAC7D,MAAMV,GAAG,CAAC;MAAEuB,IAAI,EAAEpB,gBAAgB;MAAEE,IAAI,EAAEK;IAAgB,CAAC,CAAC;EAC7D,CAAC,CAAC,OAAOc,KAAK,EAAE;IACfH,OAAO,CAACI,GAAG,CAAC,aAAa,CAAC;IAC1B,MAAMC,MAAM,GAAG;MACdf,EAAE,EAAE,SAAS;MACbC,IAAI,EAAE,SAAS;MACfC,OAAO,EAAE,SAAS;MAClBE,IAAI,EAAE,SAAS;MACfC,OAAO,EAAE,SAAS;MAClBE,QAAQ,EAAE,SAAS;MACnBC,IAAI,EAAE;IACP,CAAC;IACD,MAAMnB,GAAG,CAAC;MAAEuB,IAAI,EAAEpB,gBAAgB;MAAEE,IAAI,EAAEqB;IAAO,CAAC,CAAC;EACpD;AACD;AAEA,UAAUC,WAAWA,CAAA,EAAG;EACvB,MAAM1B,SAAS,CAACC,mBAAmB,EAAEE,cAAc,CAAC;AACrD;AACA,eAAeuB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}